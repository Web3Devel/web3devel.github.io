#VRML V2.0 utf8
# X3D-to-VRML-97 XSL translation autogenerated by X3dToVrml97.xslt
# https://www.web3d.org/x3d/content/X3dToVrml97.xslt
# Generated using XSLT processor: Saxonica

# [X3D] VRML V3.3 utf8
# PROFILE Immersive
# [X3D] version=3.3
# [X3D] noNamespaceSchemaLocation=https://www.web3d.org/specifications/x3d-3.3.xsd
# [head]

# META "title" "Button.x3d"
# META "description" "Simple button: this file contains a Prototype declaration to manage a button that, when clicked, rotates 90 degrees and sends a URL. This button is used in \"loader.wrl\"."
# META "creator" "David R. Nadeau"
# META "translator" "Don Brutzman"
# META "created" "1 July 1998"
# META "translated" "2 February 2014"
# META "modified" "20 October 2019"
# META "reference" "Loader.x3d"
# META "reference" "originals/button.wrl"
# META "reference" "http://www.siggraph.org/s98"
# META "reference" "http://www.siggraph.org/s98/conference/courses/18.html"
# META "reference" "http://www.sdsc.edu/~moreland/courses/Siggraph98/vrml97/slides/mt0469.htm"
# META "reference" "http://www.sdsc.edu/~moreland/courses/Siggraph98/vrml97/vrml97.htm"
# META "reference" "https://www.web3d.org/x3d/content/examples/X3dResources.html"
# META "identifier" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Button.x3d"
# META "generator" "Vrml97ToX3dNist, http://ovrt.nist.gov/v2_x3d.html"
# META "generator" "X3D-Edit, https://savage.nps.edu/X3D-Edit"
# META "license" "../license.html"

# [Scene] ========== ========== ==========

NavigationInfo { type [ "EXAMINE" "ANY" ] } ###  Default X3D NavigationInfo

WorldInfo {
  info [ "Copyright (c) 1998, David R. Nadeau" ]
  title "Simple Button"
}
PROTO Button [
  exposedField MFString	 url [
""
]
  exposedField MFString	 textureUrl [
""
]
  eventOut     MFString	 url_changed
  field        SFVec3f	 translation 0.0 0.0 0.0
] {
  DEF Trans Transform {
          translation IS translation
    children [
        Shape {
          appearance Appearance {
            material Material {
              diffuseColor 1.0 1.0 1.0
            }
            texture ImageTexture {
                              url IS textureUrl
            }
          }
          geometry Box {
            size 1.0 1.0 1.0
          }
        }
        DEF Touch TouchSensor {
           # description "Select to initiate button spin and scene loading"
        }
    ]
  }
  DEF Timer TimeSensor {
    stopTime 1.0
  }
  DEF Rotator OrientationInterpolator {
    key [ 0.0 1.0 ]
    keyValue [ 0.0 1.0 0.0 0.0 0.0 1.0 0.0 1.571 ]
  }
  DEF SendUrl Script {
    field        MFString	 sendUrl IS url ### Error:  Mismatched ancestor::ProtoDeclare/ProtoInterface/field/@accessType='inputOutput' and Script/field/@accessType='initializeOnly'

    eventIn      SFTime	 set_touchTime
    eventOut     MFString	 url_changed IS url_changed
                
	url [ "javascript:
	function set_touchTime( tm, ts ) {
		url_changed = sendUrl;
	}

        
" ]
  }
  ROUTE Touch.touchTime TO Timer.set_startTime
  ROUTE Timer.fraction_changed TO Rotator.set_fraction
  ROUTE Rotator.value_changed TO Trans.set_rotation
  ROUTE Touch.touchTime TO SendUrl.set_touchTime
}
# Display scene instructions for viewing an example scene with a corresponding prototype instance
Background {
  skyColor [ 0 0.333333 0.66667 ]
}
Anchor {
  description "select text to view parent scene"
  url [ "Loader.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Loader.x3d" "Loader.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Loader.wrl" ]
  children [
      Shape {
        geometry Text {
          string [ "Button.x3d scene holds" "a prototype declaration" "" "Select this text to view example" "use in Loader.x3d scene" ]
          fontStyle FontStyle {
            justify [ "MIDDLE" "MIDDLE"  ] 
            ### style='BOLD'
          }
        }
        appearance Appearance {
          material Material {
            diffuseColor 1 0.9 0.4
          }
        }
      }
      # Selectable text: invisible box behind text makes selection easier
      Shape {
        geometry Box {
          size 12 5 0.1
        }
        appearance Appearance {
          material Material {
            transparency 1
          }
        }
      }
  ]
}
