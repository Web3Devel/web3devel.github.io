#VRML V2.0 utf8
# X3D-to-VRML-97 XSL translation autogenerated by X3dToVrml97.xslt
# http://www.web3d.org/x3d/content/X3dToVrml97.xslt
# Generated using XSLT processor: SAXON 9.1.0.6 from Saxonica

# [X3D] VRML V3.3 utf8
# PROFILE Immersive
# [X3D] version=3.3
# [X3D] noNamespaceSchemaLocation=http://www.web3d.org/specifications/x3d-3.3.xsd
# [head]

# META "title" "Monolith.x3d"
# META "description" "Monolith World monolith.wrl: six vertical monoliths stand in a world. Touching a monolith starts it glowing in a pulsing fashion."
# META "creator" "David R. Nadeau"
# META "translator" "Don Brutzman"
# META "created" "1 July 1998"
# META "translated" "2 February 2014"
# META "modified" "2 February 2014"
# META "reference" "originals/monolith.wrl"
# META "reference" "http://www.siggraph.org/s98"
# META "reference" "http://www.siggraph.org/s98/conference/courses/18.html"
# META "reference" "http://www.sdsc.edu/~moreland/courses/Siggraph98/vrml97/slides/mt0145.htm"
# META "reference" "http://www.sdsc.edu/~moreland/courses/Siggraph98/vrml97/vrml97.htm"
# META "reference" "http://www.web3d.org/x3d/content/examples/X3dResources.html"
# META "identifier" "http://www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Siggraph98Course/Monolith.x3d"
# META "generator" "Vrml97ToX3dNist, http://ovrt.nist.gov/v2_x3d.html"
# META "generator" "X3D-Edit, https://savage.nps.edu/X3D-Edit"
# META "license" "../license.html"

# [Scene] ========== ========== ==========

# TouchSensors on the monoliths route to TimeSensors, one per monolith. Each TimeSensor routes to the intensity field of a PointLight placed just in front of the monolith. Simultaneously, a monolith's TimeSensor routes to the transparency field on a Material for a Box surrounding the monolith.
# As a monolith's TimeSensor fraction ramps up from 0.0 to 1.0, the PointLight intensity ramps up from 0.0 (off) to 1.0 (full on). At the same time, the monolith's outer box transparency ramps from 0.0 (opaque) to 1.0 (transparent). As the transparency increases, an emissive textured inner box for the monolith becomes visible. The inner box's emissive shading makes it appear to be a light source, and the plausible source of the PointLight source's illumination. The overall effect is one of pulsing glowing monoliths.
# A grid mesh floor is used so that localized lighting effects will be obvious.
# Things to experiment with:
# Try adding a ScalarInterpolator to each monolith and route it's output in to the rotation field of the monolith's TextureTransform. This will rotate the texture on the monolith.
# Instead of the transparent box trick, try using a ColorInterpolator to gradually increase the emissiveColor of a single monolith box while decreasing the box's diffuseColor.
# Try routing the TimeSensor's outputs in to a ScalarInterpolator that varies up and down smoothly, then route this output in to the light source's intensity, etc. Instead of the 0.1-1.0 ramp, then instant fall to 0.0 that the TimeSensor's fraction output gives, you can shape an arbitrary smooth rise and fall curve in the Scalar Interpolator's key values.
WorldInfo {
  info [ "Copyright (c) 1997, David R. Nadeau" ]
  title "Monolith World"
}
Viewpoint {
  description "Entry View"
  position 0.0 1.6 9.0
}
NavigationInfo {
  headlight FALSE
  type [ "WALK" "ANY"  ] 
}
Background {
  skyAngle [ 1.37 1.57 ]
  skyColor [ 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.1 0.5 ]
}
PointLight {
  ambientIntensity 0.1
  color 0.2 0.2 0.2
  location 0.0 8.0 10.0
}
DEF Monolith1Light PointLight {
  ambientIntensity 0.2
  color 0.8 0.4 0.0
  intensity 0.0
  location 0.0 2.0 0.5
}
Transform {
  translation 0.0 2.0 0.0
  children [
      Shape {
        appearance Appearance {
          material DEF Monolith1Facade Material {
            diffuseColor 0.2 0.2 0.2
            transparency 1.0
          }
        }
        geometry DEF MonolithOuterBox Box {
          size 2.0 4.0 0.3
        }
      }
      Shape {
        appearance Appearance {
          textureTransform TextureTransform {
            scale 0.5 0.5
          }
          texture DEF MonolithInnerFire ImageTexture {
            url [ "fire.jpg" "http://www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Siggraph98Course/fire.jpg" ]
          }
        }
        geometry DEF MonolithInnerBox Box {
          size 1.9 3.9 0.2
        }
      }
      DEF Monolith1Touch TouchSensor {
      }
  ]
}
DEF Monolith2Light PointLight {
  ambientIntensity 0.2
  color 0.8 0.4 0.0
  intensity 0.0
  location -3.0 2.0 2.5
}
Transform {
  translation -3.0 2.0 2.0
  children [
      Shape {
        appearance Appearance {
          material DEF Monolith2Facade Material {
            diffuseColor 0.2 0.2 0.2
            transparency 1.0
          }
        }
        geometry USE MonolithOuterBox
      }
      Shape {
        appearance Appearance {
          textureTransform TextureTransform {
            scale 0.3 0.3
            translation 0.2 0.2
          }
          texture USE MonolithInnerFire
        }
        geometry USE MonolithInnerBox
      }
      DEF Monolith2Touch TouchSensor {
      }
  ]
}
DEF Monolith3Light PointLight {
  ambientIntensity 0.2
  color 0.8 0.4 0.0
  intensity 0.0
  location 4.0 2.0 -1.5
}
Transform {
  translation 4.0 2.0 -2.0
  children [
      Shape {
        appearance Appearance {
          material DEF Monolith3Facade Material {
            diffuseColor 0.2 0.2 0.2
            transparency 1.0
          }
        }
        geometry USE MonolithOuterBox
      }
      Shape {
        appearance Appearance {
          textureTransform TextureTransform {
            scale 0.1 0.1
            translation 0.3 0.5
          }
          texture USE MonolithInnerFire
        }
        geometry USE MonolithInnerBox
      }
      DEF Monolith3Touch TouchSensor {
      }
  ]
}
DEF Monolith4Light PointLight {
  ambientIntensity 0.2
  color 0.8 0.4 0.0
  intensity 0.0
  location 4.5 2.0 3.5
}
Transform {
  translation 4.5 2.0 3.0
  children [
      Shape {
        appearance Appearance {
          material DEF Monolith4Facade Material {
            diffuseColor 0.2 0.2 0.2
            transparency 1.0
          }
        }
        geometry USE MonolithOuterBox
      }
      Shape {
        appearance Appearance {
          textureTransform TextureTransform {
            scale 0.2 0.2
            translation 0.4 0.6
          }
          texture USE MonolithInnerFire
        }
        geometry USE MonolithInnerBox
      }
      DEF Monolith4Touch TouchSensor {
      }
  ]
}
DEF Monolith5Light PointLight {
  ambientIntensity 0.2
  color 0.8 0.4 0.0
  intensity 0.0
  location -3.5 2.0 -4.5
}
Transform {
  translation -3.5 2.0 -5.0
  children [
      Shape {
        appearance Appearance {
          material DEF Monolith5Facade Material {
            diffuseColor 0.2 0.2 0.2
            transparency 1.0
          }
        }
        geometry USE MonolithOuterBox
      }
      Shape {
        appearance Appearance {
          textureTransform TextureTransform {
            scale 0.2 0.4
            translation 0.5 0.1
          }
          texture USE MonolithInnerFire
        }
        geometry USE MonolithInnerBox
      }
      DEF Monolith5Touch TouchSensor {
      }
  ]
}
DEF Monolith6Light PointLight {
  ambientIntensity 0.2
  color 0.8 0.4 0.0
  intensity 0.0
  location 2.0 2.0 -5.5
}
Transform {
  translation 2.0 2.0 -6.0
  children [
      Shape {
        appearance Appearance {
          material DEF Monolith6Facade Material {
            diffuseColor 0.2 0.2 0.2
            transparency 1.0
          }
        }
        geometry USE MonolithOuterBox
      }
      Shape {
        appearance Appearance {
          textureTransform TextureTransform {
            scale 0.2 0.4
            translation 0.5 0.1
          }
          texture USE MonolithInnerFire
        }
        geometry USE MonolithInnerBox
      }
      DEF Monolith6Touch TouchSensor {
      }
  ]
}
Inline {
  url [ "Floor.x3d" "http://www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Siggraph98Course/Floor.x3d" "Floor.wrl" "http://www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Siggraph98Course/Floor.wrl" ]
}
DEF Monolith1Timer TimeSensor {
  cycleInterval 4.0
  stopTime 0.1
}
ROUTE Monolith1Touch.touchTime TO Monolith1Timer.set_startTime
ROUTE Monolith1Timer.fraction_changed TO Monolith1Facade.set_transparency
ROUTE Monolith1Timer.fraction_changed TO Monolith1Light.set_intensity
DEF Monolith2Timer TimeSensor {
  cycleInterval 4.5
  stopTime 0.1
}
ROUTE Monolith2Touch.touchTime TO Monolith2Timer.set_startTime
ROUTE Monolith2Timer.fraction_changed TO Monolith2Facade.set_transparency
ROUTE Monolith2Timer.fraction_changed TO Monolith2Light.set_intensity
DEF Monolith3Timer TimeSensor {
  cycleInterval 5.0
  stopTime 0.1
}
ROUTE Monolith3Touch.touchTime TO Monolith3Timer.set_startTime
ROUTE Monolith3Timer.fraction_changed TO Monolith3Facade.set_transparency
ROUTE Monolith3Timer.fraction_changed TO Monolith3Light.set_intensity
DEF Monolith4Timer TimeSensor {
  cycleInterval 5.5
  stopTime 0.1
}
ROUTE Monolith4Touch.touchTime TO Monolith4Timer.set_startTime
ROUTE Monolith4Timer.fraction_changed TO Monolith4Facade.set_transparency
ROUTE Monolith4Timer.fraction_changed TO Monolith4Light.set_intensity
DEF Monolith5Timer TimeSensor {
  cycleInterval 6.0
  stopTime 0.1
}
ROUTE Monolith5Touch.touchTime TO Monolith5Timer.set_startTime
ROUTE Monolith5Timer.fraction_changed TO Monolith5Facade.set_transparency
ROUTE Monolith5Timer.fraction_changed TO Monolith5Light.set_intensity
DEF Monolith6Timer TimeSensor {
  cycleInterval 6.5
  stopTime 0.1
}
ROUTE Monolith6Touch.touchTime TO Monolith6Timer.set_startTime
ROUTE Monolith6Timer.fraction_changed TO Monolith6Facade.set_transparency
ROUTE Monolith6Timer.fraction_changed TO Monolith6Light.set_intensity
