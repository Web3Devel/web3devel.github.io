#VRML V2.0 utf8
# X3D-to-VRML-97 XSL translation autogenerated by X3dToVrml97.xslt
# https://www.web3d.org/x3d/content/X3dToVrml97.xslt
# Generated using XSLT processor: Saxonica

# [X3D] VRML V3.3 utf8
# PROFILE Immersive
# [X3D] version=3.3
# [X3D] noNamespaceSchemaLocation=https://www.web3d.org/specifications/x3d-3.3.xsd
# [head]

# META "title" "AnimatedGrid.x3d"
# META "description" "Animated grid world illustrates the use of a script to change the whichChoice field of a Switch node. When animated, this enables switching among different pieces of geometry, such as the separate ElevationGrid scenes shown in this example."
# META "creator" "John L. Moreland"
# META "translator" "Don Brutzman"
# META "created" "1 July 1998"
# META "translated" "2 February 2014"
# META "modified" "20 October 2019"
# META "reference" "originals/animgrid.wrl"
# META "reference" "http://www.siggraph.org/s98"
# META "reference" "http://www.siggraph.org/s98/conference/courses/18.html"
# META "reference" "http://www.sdsc.edu/~moreland/courses/Siggraph98/vrml97/slides/mt0495.htm"
# META "reference" "http://www.sdsc.edu/~moreland/courses/Siggraph98/vrml97/vrml97.htm"
# META "reference" "https://www.web3d.org/x3d/content/examples/X3dResources.html"
# META "identifier" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/AnimatedGrid.x3d"
# META "generator" "Vrml97ToX3dNist, http://ovrt.nist.gov/v2_x3d.html"
# META "generator" "X3D-Edit, https://savage.nps.edu/X3D-Edit"
# META "license" "../license.html"

# [Scene] ========== ========== ==========

WorldInfo {
  info [ "Copyright (c) 1998, John L. Moreland" ]
  title "Animated grid"
}
Viewpoint {
  description "Entry view"
  orientation 1.0 0.0 0.0 -0.83
  position 0.0 12.0 12.0
}
NavigationInfo {
  headlight FALSE
  type [ "EXAMINE"  ] 
}
DirectionalLight {
  direction 1.0 -1.0 -1.0
}
DirectionalLight {
  direction -1.0 1.0 1.0
}
DEF Grids Switch {
  whichChoice 0
  choice [
    Inline {
      bboxSize 14.0 5.0 14.0
      url [ "Terrain00.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain00.x3d" "Terrain00.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain00.wrl" ]
    }
    Inline {
      bboxSize 14.0 5.0 14.0
      url [ "Terrain01.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain01.x3d" "Terrain01.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain01.wrl" ]
    }
    Inline {
      bboxSize 14.0 5.0 14.0
      url [ "Terrain02.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain02.x3d" "Terrain02.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain02.wrl" ]
    }
    Inline {
      bboxSize 14.0 5.0 14.0
      url [ "Terrain03.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain03.x3d" "Terrain03.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain03.wrl" ]
    }
    Inline {
      bboxSize 14.0 5.0 14.0
      url [ "Terrain04.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain04.x3d" "Terrain04.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain04.wrl" ]
    }
    Inline {
      bboxSize 14.0 5.0 14.0
      url [ "Terrain05.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain05.x3d" "Terrain05.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain05.wrl" ]
    }
    Inline {
      bboxSize 14.0 5.0 14.0
      url [ "Terrain06.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain06.x3d" "Terrain06.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain06.wrl" ]
    }
    Inline {
      bboxSize 14.0 5.0 14.0
      url [ "Terrain07.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain07.x3d" "Terrain07.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain07.wrl" ]
    }
    Inline {
      bboxSize 14.0 5.0 14.0
      url [ "Terrain08.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain08.x3d" "Terrain08.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain08.wrl" ]
    }
    Inline {
      bboxSize 14.0 5.0 14.0
      url [ "Terrain09.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain09.x3d" "Terrain09.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Terrain09.wrl" ]
    }
  ]
}
DEF Clock TimeSensor {
  cycleInterval 2.0
  loop TRUE
  startTime 1.0
}
DEF Switcher Script {
  eventOut     SFInt32	 choice_changed
  field        SFInt32	 numberOfChoices 10
  eventIn      SFFloat	 set_fraction

	url [ "javascript:
    function set_fraction( frac, stamp ) {
            choice_changed = frac * numberOfChoices;
    }

    
" ]
}
ROUTE Clock.fraction_changed TO Switcher.set_fraction
ROUTE Switcher.choice_changed TO Grids.set_whichChoice
