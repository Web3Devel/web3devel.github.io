#VRML V2.0 utf8
# X3D-to-VRML-97 XSL translation autogenerated by X3dToVrml97.xslt
# http://www.web3d.org/x3d/content/X3dToVrml97.xslt
# Generated using XSLT processor: SAXON 9.1.0.6 from Saxonica

# [X3D] VRML V3.3 utf8
# PROFILE Immersive
# [X3D] version=3.3
# [X3D] noNamespaceSchemaLocation=http://www.web3d.org/specifications/x3d-3.3.xsd
# [head]

# META "title" "SubWorld.x3d"
# META "description" "Multiple sounds example: submarine world with sounds. This world illustrates the use of multiple sounds and their ellipsoids to arrange so that different sounds are heard at different points in the world."
# META "creator" "John L. Moreland"
# META "translator" "Don Brutzman"
# META "created" "1 July 1998"
# META "translated" "2 February 2014"
# META "modified" "2 February 2014"
# META "reference" "originals/subworld.wrl"
# META "reference" "http://www.siggraph.org/s98"
# META "reference" "http://www.siggraph.org/s98/conference/courses/18.html"
# META "reference" "http://www.sdsc.edu/~moreland/courses/Siggraph98/vrml97/slides/mt0350.htm"
# META "reference" "http://www.sdsc.edu/~moreland/courses/Siggraph98/vrml97/vrml97.htm"
# META "reference" "http://www.web3d.org/x3d/content/examples/X3dResources.html"
# META "identifier" "http://www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Siggraph98Course/SubWorld.x3d"
# META "generator" "Vrml97ToX3dNist, http://ovrt.nist.gov/v2_x3d.html"
# META "generator" "X3D-Edit, https://savage.nps.edu/X3D-Edit"
# META "license" "../license.html"

# [Scene] ========== ========== ==========

WorldInfo {
  info [ "Copyright (c) 1998, John L. Moreland" ]
  title "Submarine world with sounds"
}
NavigationInfo {
  type [ "EXAMINE" "ALL"  ] 
}
Viewpoint {
  description "Above"
  orientation 1.0 0.0 0.0 -0.7
  position 0.0 10.0 19.0
}
Viewpoint {
  description "Surface"
  position 0.0 0.0 20.0
}
Viewpoint {
  description "Below"
  position 0.0 -3.0 20.0
}
Viewpoint {
  description "Middle"
  position 0.0 -3.0 0.0
}
Group {
  children [
      Shape {
        appearance Appearance {
          textureTransform DEF WaterTT TextureTransform {
            scale 0.3 0.3
          }
          material Material {
            diffuseColor 0.254 0.494 0.8965
            emissiveColor 0.254 0.494 0.8965
            transparency 0.5
          }
          texture ImageTexture {
            url [ "water.jpg" "http://www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Siggraph98Course/water.jpg" ]
          }
        }
        geometry IndexedFaceSet {
          coordIndex [ 0 1 2 3 0 ]
          solid FALSE
          coord Coordinate {
            point [ 20.0 0.0 20.0 20.0 0.0 -20.0 -20.0 0.0 -20.0 -20.0 0.0 20.0 ]
          }
        }
      }
      DEF Sub Transform {
        children [
            Transform {
              translation 10.0 -2.0 0.0
              children [
                  Inline {
                    url [ "Sub.x3d" "http://www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Siggraph98Course/Sub.x3d" "Sub.wrl" "http://www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Siggraph98Course/Sub.wrl" ]
                  }
              ]
            }
        ]
      }
  ]
}
Background {
  groundAngle [ 1.309 1.571 ]
  groundColor [ 0.0 0.3 0.7 0.0 0.2 0.3 0.0 0.0 0.3 ]
  skyAngle [ 1.309 1.571 ]
  skyColor [ 0.0 0.2 0.9 0.0 0.3 0.8 0.254 0.494 0.8965 ]
}
DEF TS TimeSensor {
  cycleInterval 8.0
  loop TRUE
}
DEF OI OrientationInterpolator {
  key [ 0.0 0.5 1.0 ]
  keyValue [ 0.0 1.0 0.0 0.0 0.0 1.0 0.0 3.14159 0.0 1.0 0.0 6.283 ]
}
ROUTE TS.fraction_changed TO OI.set_fraction
ROUTE OI.value_changed TO Sub.set_rotation
DEF TS2 TimeSensor {
  cycleInterval 90.0
  loop TRUE
}
DEF OI2 OrientationInterpolator {
  key [ 0.0 0.5 1.0 ]
  keyValue [ 0.0 1.0 0.0 0.0 0.0 1.0 0.0 3.14159 0.0 1.0 0.0 6.283 ]
}
DEF Churn Script {
  eventOut     SFFloat	one_changed
  eventIn      SFRotation	set_rotation

	url [ "javascript:
		function set_rotation( rot, et )
		{
			one_changed = rot[3];
		}

    
" ]
}
ROUTE TS2.fraction_changed TO OI2.set_fraction
ROUTE OI2.value_changed TO Churn.set_rotation
ROUTE Churn.one_changed TO WaterTT.set_rotation
Transform {
  scale 40.0 9.0 40.0
  translation 0.0 8.0 0.0
  children [
      Sound {
        maxBack 1.0
        maxFront 1.0
        spatialize FALSE
        source AudioClip {
          loop TRUE
          url [ "air.wav" "http://www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Siggraph98Course/air.wav" ]
        }
      }
  ]
}
Transform {
  scale 25.0 1.0 25.0
  children [
      Sound {
        maxBack 1.0
        maxFront 1.0
        spatialize FALSE
        source AudioClip {
          loop TRUE
          url [ "paddle.wav" "http://www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Siggraph98Course/paddle.wav" ]
        }
      }
  ]
}
Transform {
  scale 40.0 9.0 40.0
  translation 0.0 -8.0 0.0
  children [
      Sound {
        maxBack 1.0
        maxFront 1.0
        spatialize FALSE
        source AudioClip {
          loop TRUE
          url [ "water.wav" "http://www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Siggraph98Course/water.wav" ]
        }
      }
  ]
}
