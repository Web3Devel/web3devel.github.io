#VRML V2.0 utf8
# X3D-to-VRML-97 XSL translation autogenerated by X3dToVrml97.xslt
# https://www.web3d.org/x3d/content/X3dToVrml97.xslt
# Generated using XSLT processor: Saxonica

# [X3D] VRML V3.3 utf8
# PROFILE Interactive
# [X3D] version=3.3
# [X3D] noNamespaceSchemaLocation=https://www.web3d.org/specifications/x3d-3.3.xsd
# [head]

# META "title" "Stairway.x3d"
# META "description" "The Stairway world uses a twisting, branching, floating stairway to lead the visitor to six doorways. Each doorway is a selectable anchor leading to another world."
# META "creator" "David R. Nadeau"
# META "translator" "Don Brutzman"
# META "created" "1 July 1998"
# META "translated" "2 February 2014"
# META "modified" "16 December 2023"
# META "reference" "originals/stairwy.wrl"
# META "reference" "http://www.siggraph.org/s98"
# META "reference" "http://www.siggraph.org/s98/conference/courses/18.html"
# META "reference" "http://www.sdsc.edu/~moreland/courses/Siggraph98/vrml97/slides/mt0095.htm"
# META "reference" "http://www.sdsc.edu/~moreland/courses/Siggraph98/vrml97/vrml97.htm"
# META "reference" "https://www.web3d.org/x3d/content/examples/X3dResources.html"
# META "identifier" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Stairway.x3d"
# META "generator" "Vrml97ToX3dNist, http://ovrt.nist.gov/v2_x3d.html"
# META "generator" "X3D-Edit, https://savage.nps.edu/X3D-Edit"
# META "license" "../license.html"

# [Scene] ========== ========== ==========

# This world was *hand authored*, which is way tough to do given the number of stairs to be positioned and oriented. This accounts for the heavy use of DEF and USE and rather convoluted nested transforms. By using a world builder application (when they become available), you can position each stair or group of stairs interactively, instead of typing in translations and rotations and hoping they work out.
# Things to experiment with:
# Change the anchor urls to point to your own worlds.
# Add a flock of birds following a path animated by a PositionInterpolator and an OrientationInterpolator.
# Drop the sky background wall and replace it with a Background node.
# Add sound. Perhaps a gentle wind with some occasional wind chimes.
WorldInfo {
  info [ "copyright (c) 1997, David R. Nadeau" ]
  title "The Stairway"
}
Background {
  skyAngle [ 1.37 1.57 1.77 ]
  skyColor [ 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.1 0.5 0.0 0.0 0.0 ]
}
Transform {
  scale 0.4 0.4 0.4
  children [
      Viewpoint {
        description "Entry view"
        orientation 1.0 0.0 0.0 0.1
        position 9.0 -5.0 25.0
      }
      NavigationInfo {
        avatarSize [ 0.5 4.0 1.5 ]
        headlight FALSE
        speed 4.0
        type [ "WALK" "ANY"  ] 
      }
      DirectionalLight {
        color 0.0 0.3 1.0
        direction -3.0 2.0 -1.0
      }
      PointLight {
        ambientIntensity 0.3
        location 14.0 10.0 14.0
      }
 ### Warning:  PointLight node location and radius are affected by translation and scaling of parent-hierarchy <Transform scale='0.4 0.4 0.4' />
      Transform {
        translation 5.0 -3.0 5.0
        children [
            DEF Platform Shape {
              appearance DEF Marble Appearance {
                material Material {
                  diffuseColor 1.0 1.0 1.0
                }
                texture ImageTexture {
                  url [ "marble_g.jpg" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/marble_g.jpg" ]
                }
              }
              geometry Box {
                size 4.0 0.25 4.0
              }
            }
        ]
      }
      Transform {
        translation 5.0 -2.5 2.5
        children [
            DEF ThreeUpStraightStairs Group {
              children [
                  DEF Stair Shape {
                    appearance USE Marble
                    geometry Box {
                      size 4.0 0.25 1.0
                    }
                  }
                  Transform {
                    translation 0.0 0.5 -1.0
                    children [
                        USE Stair
                    ]
                  }
                  Transform {
                    translation 0.0 1.0 -2.0
                    children [
                        USE Stair
                    ]
                  }
              ]
            }
        ]
      }
      Transform {
        translation 5.0 -1.0 -0.5
        children [
            USE ThreeUpStraightStairs
        ]
      }
      Transform {
        translation 5.0 0.5 -5.0
        children [
            USE Platform
        ]
      }
      Transform {
        translation 5.0 1.0 -7.5
        children [
            USE ThreeUpStraightStairs
        ]
      }
      Transform {
        translation 5.0 5.0 -10.1
        children [
            Anchor {
              description "Temple of the Orb"
              url [ "Temple.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Temple.x3d" "Temple.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Temple.wrl" ]
              children [
                  DEF Door Group {
                    children [
                        Shape {
                          appearance Appearance {
                            textureTransform TextureTransform {
                              scale 1.0 2.0
                            }
                            material Material {
                              diffuseColor 1.0 1.0 1.0
                            }
                            texture ImageTexture {
                              url [ "panel.jpg" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/panel.jpg" ]
                            }
                          }
                          geometry Box {
                            size 3.0 6.0 0.2
                          }
                        }
                        Transform {
                          translation 1.18 -0.0 0.2
                          children [
                              Shape {
                                appearance Appearance {
                                  material Material {
                                    diffuseColor 1.0 1.0 1.0
                                  }
                                  texture ImageTexture {
                                    url [ "blur.jpg" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/blur.jpg" ]
                                  }
                                }
                                geometry Sphere {
                                  radius 0.15
                                }
                              }
                          ]
                        }
                    ]
                  }
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation 2.5 1.0 -5.0
        children [
            DEF ThreeUpRightCurvingStairs Transform {
              translation 5.0 0.0 0.0
              children [
                  DEF OffToLeftStair Transform {
                    translation -5.0 0.0 0.0
                    children [
                        USE Stair
                    ]
                  }
                  Transform {
                    rotation 0.0 1.0 0.0 -0.26
                    translation 0.0 0.5 0.0
                    children [
                        USE OffToLeftStair
                    ]
                  }
                  Transform {
                    rotation 0.0 1.0 0.0 -0.52
                    translation 0.0 1.0 0.0
                    children [
                        USE OffToLeftStair
                    ]
                  }
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation 2.5 2.5 -5.0
        children [
            Transform {
              center 5.0 0.0 0.0
              rotation 0.0 1.0 0.0 -0.785
              children [
                  USE ThreeUpRightCurvingStairs
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation 2.5 4.0 -5.0
        children [
            Transform {
              center 5.0 0.0 0.0
              rotation 0.0 1.0 0.0 -1.57
              children [
                  USE ThreeUpRightCurvingStairs
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation 2.5 5.0 -5.0
        children [
            Transform {
              center 5.0 0.0 0.0
              rotation 0.0 1.0 0.0 -2.09
              children [
                  Transform {
                    translation 0.0 3.0 -0.6
                    children [
                        Anchor {
                          description "Primitives on Pedestals"
                          url [ "Primitives.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Primitives.x3d" "Primitives.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Primitives.wrl" ]
                          children [
                              USE Door
                          ]
                        }
                    ]
                  }
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation 7.5 0.0 -5.0
        children [
            DEF ThreeDownLeftCurvingStairs Transform {
              translation 5.0 0.0 0.0
              children [
                  USE OffToLeftStair
                  Transform {
                    rotation 0.0 1.0 0.0 0.26
                    translation 0.0 -0.5 0.0
                    children [
                        USE OffToLeftStair
                    ]
                  }
                  Transform {
                    rotation 0.0 1.0 0.0 0.52
                    translation 0.0 -1.0 0.0
                    children [
                        USE OffToLeftStair
                    ]
                  }
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation 7.5 -1.5 -5.0
        children [
            Transform {
              center 5.0 0.0 0.0
              rotation 0.0 1.0 0.0 0.785
              children [
                  USE ThreeDownLeftCurvingStairs
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation 7.5 -2.5 -5.0
        children [
            Transform {
              center 5.0 0.0 0.0
              rotation 0.0 1.0 0.0 1.31
              children [
                  Transform {
                    rotation 0.0 1.0 0.0 3.14
                    translation 0.0 3.0 0.6
                    children [
                        Anchor {
                          description "The Doorway"
                          url [ "Doorway.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Doorway.x3d" "Doorway.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Doorway.wrl" ]
                          children [
                              USE Door
                          ]
                        }
                    ]
                  }
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation 2.5 -2.5 5.0
        children [
            USE ThreeUpStraightStairs
        ]
      }
      Transform {
        translation -2.0 -1.0 5.0
        children [
            USE Platform
        ]
      }
      Transform {
        translation -2.0 -0.5 2.5
        children [
            DEF ThreeUpLeftCurvingStairs Transform {
              translation -5.0 0.0 0.0
              children [
                  DEF OffToRightStair Transform {
                    translation 5.0 0.0 0.0
                    children [
                        USE Stair
                    ]
                  }
                  Transform {
                    rotation 0.0 1.0 0.0 0.26
                    translation 0.0 0.5 0.0
                    children [
                        USE OffToRightStair
                    ]
                  }
                  Transform {
                    rotation 0.0 1.0 0.0 0.52
                    translation 0.0 1.0 0.0
                    children [
                        USE OffToRightStair
                    ]
                  }
              ]
            }
        ]
      }
      Transform {
        translation -2.0 0.5 2.5
        children [
            Transform {
              center -5.0 0.0 0.0
              rotation 0.0 1.0 0.0 0.52
              children [
                  Transform {
                    translation 0.0 3.0 -0.6
                    children [
                        Anchor {
                          description "Monolith World"
                          url [ "Monolith.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Monolith.x3d" "Monolith.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Monolith.wrl" ]
                          children [
                              USE Door
                          ]
                        }
                    ]
                  }
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation -4.5 -0.5 5.0
        children [
            USE ThreeUpStraightStairs
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation -7.5 1.0 5.0
        children [
            USE ThreeUpStraightStairs
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation -10.1 5.0 5.0
        children [
            Anchor {
              description "The Tower"
              url [ "Towers.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Towers.x3d" "Towers.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/Towers.wrl" ]
              children [
                  USE Door
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation 9.5 -4.5 5.0
        children [
            USE ThreeUpStraightStairs
        ]
      }
      Transform {
        translation 12.0 -5.0 5.0
        children [
            USE Platform
        ]
      }
      Transform {
        translation 12.0 -6.5 9.5
        children [
            USE ThreeUpStraightStairs
        ]
      }
      Transform {
        translation 12.0 -7.0 12.0
        children [
            USE Platform
        ]
      }
      Transform {
        translation 12.0 -8.5 16.5
        children [
            USE ThreeUpStraightStairs
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 3.14
        translation 5.0 -3.5 7.5
        children [
            DEF ThreeDownRightCurvingStairs Transform {
              translation 5.0 0.0 0.0
              children [
                  USE OffToLeftStair
                  Transform {
                    rotation 0.0 1.0 0.0 -0.26
                    translation 0.0 -0.5 0.0
                    children [
                        USE OffToLeftStair
                    ]
                  }
                  Transform {
                    rotation 0.0 1.0 0.0 -0.52
                    translation 0.0 -1.0 0.0
                    children [
                        USE OffToLeftStair
                    ]
                  }
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 3.14
        translation 5.0 -5.0 7.5
        children [
            Transform {
              center 5.0 0.0 0.0
              rotation 0.0 1.0 0.0 -0.785
              children [
                  USE ThreeDownRightCurvingStairs
              ]
            }
        ]
      }
      Transform {
        translation 5.0 -6.0 7.5
        children [
            Transform {
              center -5.0 0.0 0.0
              rotation 0.0 1.0 0.0 -1.48
              children [
                  Transform {
                    rotation 0.0 1.0 0.0 3.14
                    translation 0.0 3.0 -0.6
                    children [
                        Anchor {
                          description "Robot Bill"
                          url [ "RoboBill.x3d" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/RoboBill.x3d" "RoboBill.wrl" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/RoboBill.wrl" ]
                          children [
                              USE Door
                          ]
                        }
                    ]
                  }
              ]
            }
        ]
      }
      Shape {
        appearance Appearance {
          textureTransform TextureTransform {
            scale 20.0 20.0
          }
          material Material {
            ambientIntensity 0.3
          }
          texture ImageTexture {
            url [ "stone2.jpg" "https://www.web3d.org/x3d/content/examples/Vrml2Sourcebook/Siggraph98Course/stone2.jpg" ]
          }
        }
        geometry IndexedFaceSet {
          coordIndex [ 0 1 2 3 -1 ]
          solid FALSE
          coord Coordinate {
            point [ -30.0 -9.0 30.0 30.0 -9.0 30.0 30.0 -9.0 -30.0 -30.0 -9.0 -30.0 ]
          }
        }
      }
      Shape {
        appearance DEF ShadowColor Appearance {
          material Material {
            ambientIntensity 0.0
            diffuseColor 0.1 0.1 0.1
            transparency 0.25
          }
        }
        geometry IndexedFaceSet {
          coordIndex [ 0 1 2 3 -1 4 5 6 7 -1 8 9 10 11 -1 ]
          coord Coordinate {
            point [ 10.0 -8.5 17.0 14.0 -8.5 17.0 14.0 -8.5 3.0 10.0 -8.5 3.0 -10.0 -8.5 7.0 10.0 -8.5 7.0 10.0 -8.5 3.0 -10.0 -8.5 3.0 3.0 -8.5 7.0 7.0 -8.5 7.0 7.0 -8.5 -10.0 3.0 -8.5 -10.0 ]
          }
        }
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation 2.5 -8.5 -5.0
        children [
            DEF ThreeUpRightCurvingShadows Transform {
              translation 5.0 0.0 0.0
              children [
                  DEF OffToLeftShadow Transform {
                    translation -5.0 0.0 0.0
                    children [
                        DEF Shadow Shape {
                          appearance USE ShadowColor
                          geometry IndexedFaceSet {
                            coordIndex [ 0 1 2 3 -1 ]
                            coord Coordinate {
                              point [ -2.0 0.0 0.5 2.0 0.0 0.5 2.0 0.0 -0.5 -2.0 0.0 -0.5 ]
                            }
                          }
                        }
                    ]
                  }
                  Transform {
                    rotation 0.0 1.0 0.0 -0.26
                    children [
                        USE OffToLeftShadow
                    ]
                  }
                  Transform {
                    rotation 0.0 1.0 0.0 -0.52
                    children [
                        USE OffToLeftShadow
                    ]
                  }
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation 2.5 -8.5 -5.0
        children [
            Transform {
              center 5.0 0.0 0.0
              rotation 0.0 1.0 0.0 -0.785
              children [
                  USE ThreeUpRightCurvingShadows
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation 2.5 -8.5 -5.0
        children [
            Transform {
              center 5.0 0.0 0.0
              rotation 0.0 1.0 0.0 -1.57
              children [
                  USE ThreeUpRightCurvingShadows
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation 7.5 -8.5 -5.0
        children [
            DEF ThreeDownLeftCurvingShadows Transform {
              translation 5.0 0.0 0.0
              children [
                  USE OffToLeftShadow
                  Transform {
                    rotation 0.0 1.0 0.0 0.26
                    children [
                        USE OffToLeftShadow
                    ]
                  }
                  Transform {
                    rotation 0.0 1.0 0.0 0.52
                    children [
                        USE OffToLeftShadow
                    ]
                  }
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 1.57
        translation 7.5 -8.5 -5.0
        children [
            Transform {
              center 5.0 0.0 0.0
              rotation 0.0 1.0 0.0 0.785
              children [
                  USE ThreeDownLeftCurvingShadows
              ]
            }
        ]
      }
      Transform {
        translation -2.0 -8.5 2.5
        children [
            DEF ThreeUpLeftCurvingShadows Transform {
              translation -5.0 0.0 0.0
              children [
                  DEF OffToRightShadow Transform {
                    translation 5.0 0.0 0.0
                    children [
                        USE Shadow
                    ]
                  }
                  Transform {
                    rotation 0.0 1.0 0.0 0.26
                    children [
                        USE OffToRightShadow
                    ]
                  }
                  Transform {
                    rotation 0.0 1.0 0.0 0.52
                    children [
                        USE OffToRightShadow
                    ]
                  }
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 3.14
        translation 5.0 -8.5 7.5
        children [
            DEF ThreeDownRightCurvingShadows Transform {
              translation 5.0 0.0 0.0
              children [
                  USE OffToLeftShadow
                  Transform {
                    rotation 0.0 1.0 0.0 -0.26
                    children [
                        USE OffToLeftShadow
                    ]
                  }
                  Transform {
                    rotation 0.0 1.0 0.0 -0.52
                    children [
                        USE OffToLeftShadow
                    ]
                  }
              ]
            }
        ]
      }
      Transform {
        rotation 0.0 1.0 0.0 3.14
        translation 5.0 -8.5 7.5
        children [
            Transform {
              center 5.0 0.0 0.0
              rotation 0.0 1.0 0.0 -0.785
              children [
                  USE ThreeDownRightCurvingShadows
              ]
            }
        ]
      }
  ]
}
